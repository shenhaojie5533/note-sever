webpackJsonp([1],{"/QMy":function(t,e){},"4VVQ":function(t,e){t.exports=function(t){var e=new Date(t);return year=e.getFullYear(),mon=e.getMonth()+1,day=e.getDate(),h=e.getHours(),min=e.getMinutes(),s=e.getSeconds(),year+"年"+mon+"月"+day+"日"}},HwP5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allheader"},[a("div",{staticClass:"content clearfix"},[a("h1",{staticClass:"title fll"},[t._v("云笔记")]),t._v(" "),a("div",{staticClass:"sch flr"},[a("i",{staticClass:"iconfont icon-sousuo-copy",on:{click:function(e){t.$router.push("/schlist")}}}),t._v(" "),a("button",{on:{click:function(e){t.$router.push("/writenote")}}},[t._v("写笔记")])])])])},staticRenderFns:[]};var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"allfoot"},[e("p",[this._v("写笔记就到云笔记")]),this._v(" "),e("p",[this._v("@2017YLY")])])}]};var o={components:{Header:a("VU/8")({name:"Header",data:function(){return{}}},s,!1,function(t){a("UZvQ")},"data-v-7b6ba1d8",null).exports,Footer:a("VU/8")({name:"Footer"},i,!1,function(t){a("vsYT")},"data-v-2ba5943e",null).exports},name:"App"},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("HwP5")},null,null).exports,l=a("zL8q"),u=a.n(l),d=(a("tvR6"),a("/ocq")),p=a("mtWM"),v=a.n(p),m=a("lbHh"),h=a.n(m),f={name:"notelist",data:function(){return{listData:[]}},methods:{getArticle:function(){var t=this;this.$axios.get("/getDetail").then(function(e){console.log(e.data.data),t.listData=e.data.data})},detail:function(t){console.log(t),this.$router.push({path:"/detail",query:{id:t}})}},mounted:function(){this.getArticle()}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-list"},t._l(t.listData,function(e){return a("div",{staticClass:"itemall",on:{click:function(a){t.detail(e._id)}}},[a("div",{staticClass:"item-top"},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:e.pic}})]),t._v(" "),a("div",{staticClass:"item-msg"},[a("div",{staticClass:"row-one"},[a("span",{staticClass:"author-name"},[t._v("\n          "+t._s(e.author)+"\n        ")]),t._v(" "),a("h2",[t._v("\n            "+t._s(e.title)+"\n          ")])]),t._v(" "),a("div",{staticClass:"row-two"},[a("span",{staticClass:"row-item"},[t._v("\n            浏览:"+t._s(e.looknum)+"\n          ")]),t._v(" "),a("span",{staticClass:"row-item"},[t._v("\n            回复: 0\n          ")]),t._v(" "),a("span",{staticClass:"row-item"},[t._v("\n            分类: news\n          ")])])])]),t._v(" "),a("div",{staticClass:"item-content",domProps:{innerHTML:t._s(e.content)}})])}))},staticRenderFns:[]};var g={name:"shouye",components:{notelist:a("VU/8")(f,_,!1,function(t){a("Nz7l")},"data-v-15187086",null).exports},data:function(){return{token:"",email:"",password:"",usermsg:{username:"",email:"",usericon:""},swiperSlides:[],swiperOption:{autoplay:!0}}},methods:{handleLogin:function(){var t=this,e={email:this.email,password:this.password,usericon:this.usericon};this.$axios.post("/login",e).then(function(e){200==e.data.code?(t.usermsg=e.data.data,h.a.set("username",t.usermsg.username,{expires:14}),h.a.set("email",t.usermsg.email),h.a.set("usericon",t.usermsg.usericon),t.$message({message:"登录成功，欢迎回来"+e.data.data.username,type:"success"})):t.$message.error(e.data.msg)})},getUserMsg:function(){var t=h.a.get("username"),e=h.a.get("email"),a=h.a.get("usericon");t&&e&&(this.usermsg.username=t,this.usermsg.email=e,this.usermsg.usericon=a)},handleIcon:function(){var t=this,e=this.usermsg.usericon;this.$axios.post("/msgchange",{usericon:e}).then(function(e){t.$message({message:"修改成功",type:"success"})})},handleLoout:function(){var t=this;this.usermsg.email="",this.usermsg.username="",h.a.remove("email"),h.a.remove("username"),this.$axios.delete("/logout").then(function(e){200==e.data.code?t.$message({message:"成功退出登录",type:"warning"}):t.$message.error(e.data.msg)})},up:function(t){var e=this,a=t.target.files[0],n=new FormData;n.append("file",a),n.append("token",this.token),v.a.post("https://upload-z1.qiniup.com",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data.url),e.usermsg.usericon=t.data.url})},getToken:function(){var t=this;v.a.get("http://11.yaojunrong.com/api/client/upload").then(function(e){t.token=e.data.data})},getbanners:function(){var t=this;this.$axios.get("/getSwiper").then(function(e){console.log(e.data.data),t.swiperSlides=e.data.data})}},created:function(){this.getToken()},mounted:function(){this.getUserMsg(),this.getbanners()}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allshouye"},[a("div",{staticClass:"content"},[a("div",{staticClass:"swiperbox clearfix"},[a("div",{staticClass:"swiper fll"},[a("swiper",{attrs:{options:t.swiperOption}},t._l(t.swiperSlides,function(e,n){return a("swiper-slide",{key:n},[a("img",{attrs:{src:e.pic}}),t._v(" "),a("div",{staticClass:"pictitle"},[a("p",[t._v(t._s(e.title))])])])}))],1),t._v(" "),a("div",{staticClass:"loign flr"},[t.usermsg.username?a("div",{staticClass:"user-box"},[a("div",{staticClass:"tianjia"},[a("label",{attrs:{id:"btn-wrap"}},[a("input",{attrs:{type:"file",name:"file",accept:"image/jpeg,image/png",id:"file-input"},on:{change:t.up}}),t._v(" "),a("img",{attrs:{src:t.usermsg.usericon}})])]),t._v(" "),a("div",{staticClass:"iconbox"},[a("img",{attrs:{src:t.usermsg.usericon}})]),t._v(" "),a("div",{staticClass:"justone"},[a("el-button",{attrs:{plain:""},on:{click:t.handleIcon}},[t._v("\n              更改头像\n            ")])],1),t._v(" "),a("div",[t._v(t._s(t.usermsg.username))]),t._v(" "),a("div",{staticClass:"mt10"},[t._v(t._s(t.usermsg.email))]),t._v(" "),a("div",{staticClass:"tuichu"},[a("el-button",{attrs:{type:"danger"},on:{click:t.handleLoout}},[t._v("退出登录")])],1)]):a("div",{staticClass:"login-box"},[a("form",{staticClass:"ELloign",attrs:{action:"#"}},[a("el-input",{attrs:{placeholder:"邮箱",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("el-input",{attrs:{placeholder:"密码",type:"password"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleLogin}},[t._v("登录")]),t._v(" "),a("el-button",{attrs:{plain:""},on:{click:function(e){t.$router.push("/rejiste")}}},[t._v("去注册")])],1)]),t._v(" "),a("p",[t._v("this notes is very pretebd bility")]),t._v(" "),a("p",[t._v("IT牛人都在用的笔记...")])])]),t._v(" "),a("notelist")],1)])},staticRenderFns:[]};var w=a("VU/8")(g,C,!1,function(t){a("clU+"),a("xril")},"data-v-728030fc",null).exports,x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allrejist"},[a("div",{staticClass:"content"},[a("div",{staticClass:"rejistebox"},[a("h1",[t._v("立即注册")]),t._v(" "),a("form",{staticClass:"zhuce",attrs:{action:"#"}},[a("div",{staticClass:"for"},[a("el-input",{attrs:{placeholder:"请输入昵称",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),a("div",{staticClass:"for"},[a("el-input",{attrs:{placeholder:"请输入邮箱",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("div",{staticClass:"for"},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.open(e):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("router-link",{attrs:{to:"#"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("新用户注册")])],1)],1)])])])},staticRenderFns:[]};var y=a("VU/8")({name:"rejiste",data:function(){return{username:"",email:"",password:""}},methods:{open:function(){var t=this,e={username:this.username,email:this.email,password:this.password};this.$axios.post("/user",e).then(function(e){200==e.data.code?t.$alert("注册成功，请登录...","注册成功",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}}):t.$message.error(e.data.msg)})}}},x,!1,function(t){a("hPHr"),a("j3wC")},"data-v-cb046ea4",null).exports,k={name:"Sixiang",data:function(){return{token:"",img:""}},methods:{up:function(t){var e=this,a=t.target.files[0],n=new FormData;n.append("file",a),n.append("token",this.token),v.a.post("https://upload-z1.qiniup.com",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data.url),e.img=t.data.url})},getToken:function(){var t=this;v.a.get("http://11.yaojunrong.com/api/client/upload").then(function(e){t.token=e.data.data})}},watch:{img:function(){this.$emit("imges",this.img)}},created:function(){this.getToken()}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("label",{attrs:{id:"btn-wrap"}},[a("input",{attrs:{type:"file",name:"file",accept:"image/jpeg,image/png",id:"file-input"},on:{change:t.up}}),t._v(" "),t.img?a("img",{attrs:{src:t.img}}):t._e(),t._v(" "),t.img?t._e():a("i",{staticClass:"iconfont icon-icon_jiahao"})])])},staticRenderFns:[]};var $=a("VU/8")(k,b,!1,function(t){a("ZnH4")},"data-v-1ffe3874",null).exports,D=a("sYY+"),E=a.n(D),T={name:"writenote",components:{pic:$},data:function(){return{editorContent:"",content:"",title:"",editorContents:"",pic:""}},methods:{handleSubmit:function(){var t=this,e={title:this.title,content:this.editorContent,contents:this.editorContents};this.$axios.post("/addArticle",e).then(function(e){200==e.data.code?t.$alert("提交成功，请到列表查看...","提交成功",{confirmButtonText:"确定",callback:function(e){t.title="";var a=new E.a("#editorElem");a.create(),a.txt.clear()}}):t.$alert("您还未登录，请登录...","温馨提醒",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}})})},handleSwiper:function(){var t=this,e={title:this.title,pic:this.pic};this.$axios.post("/addSwiper",e).then(function(e){200==e.data.code?t.$alert("上传成功，请到首页查看...","提交成功",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}}):t.$alert("您还未登录，请登录...","温馨提醒",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}})})},getImg:function(t){this.pic=t}},mounted:function(){var t=this,e=new E.a("#editorElem");e.customConfig.onchange=function(){var a=e.txt.text(),n=e.txt.html();t.editorContent=a,t.editorContents=n},e.customConfig.zIndex=1e3,e.create()},watch:{title:function(){}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allwrite"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title-label"},[t._v("\n        标题\n      ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入笔记标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"title-label"},[t._v("\n        内容\n      ")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"last clearfix"},[a("div",{staticClass:"leftpic fll"},[a("pic",{on:{imges:t.getImg}})],1),t._v(" "),a("div",{staticClass:"rightbtn flr"},[a("div",{staticClass:"liebiao"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.$router.push("/schlist")}}},[t._v("查看笔记列表")])],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("发布笔记")]),t._v(" "),a("br"),t._v(" "),a("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary"},on:{click:t.handleSwiper}},[t._v("上传轮播图")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"editor"},[e("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}})])}]};var S=a("VU/8")(T,j,!1,function(t){a("zxBy"),a("/QMy")},"data-v-2878f2fa",null).exports,U=a("4VVQ"),F=a.n(U),H={name:"detail",data:function(){return{title:"",author:"",createdAt:"",contents:""}},methods:{getDetailData:function(){var t=this,e=this.$route.query.id;console.log(e),this.$axios.post("/getDetails",{_id:e}).then(function(e){t.title=e.data.data.title,t.author=e.data.data.author,t.contents=e.data.data.contents,t.createdAt=F()(e.data.data.createdAt)})}},mounted:function(){this.getDetailData()}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adddetail"},[a("div",{staticClass:"content"},[a("h2",[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),a("div",{staticClass:"content-msg"},[a("div",{staticClass:"author"},[t._v("\n          作者: "),a("span",{staticClass:"author-name"},[t._v(t._s(t.author))])]),t._v(" "),a("div",{staticClass:"create-time"},[t._v("\n         "+t._s(t.createdAt)+"\n        ")])]),t._v(" "),a("div",{staticClass:"content-details",domProps:{innerHTML:t._s(t.contents)}})])])},staticRenderFns:[]};var R=a("VU/8")(H,V,!1,function(t){a("jQ6X")},"data-v-6b82d082",null).exports,A={name:"schlist",data:function(){return{listData:[],title:""}},methods:{getArticle:function(){var t=this;this.$axios.get("/getDetail").then(function(e){t.listData=e.data.data})},handleSearch:function(){var t=this,e=this.title;this.$axios.get("/getschli",{params:{title:e}}).then(function(e){t.listData=e.data.data})},detail:function(t){console.log(t),this.$router.push({path:"/detail",query:{id:t}})}},created:function(){this.getArticle()}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addsch"},[a("div",{staticClass:"content"},[a("div",{staticClass:"input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.title},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleSearch(e):null},input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")])],1),t._v(" "),a("div",{staticClass:"article-list"},t._l(t.listData,function(e){return a("div",{staticClass:"itemall",on:{click:function(a){t.detail(e._id)}}},[a("div",{staticClass:"item-top"},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:e.pic}})]),t._v(" "),a("div",{staticClass:"item-msg"},[a("div",{staticClass:"row-one"},[a("span",{staticClass:"author-name"},[t._v("\n          "+t._s(e.author)+"\n        ")]),t._v(" "),a("h2",[t._v("\n                "+t._s(e.title)+"\n              ")])]),t._v(" "),a("div",{staticClass:"row-two"},[a("span",{staticClass:"row-item"},[t._v("\n            浏览:"+t._s(e.looknum)+"\n          ")]),t._v(" "),a("span",{staticClass:"row-item"},[t._v("\n            回复: 0\n          ")]),t._v(" "),a("span",{staticClass:"row-item"},[t._v("\n            分类: news\n          ")])])])]),t._v(" "),a("div",{staticClass:"item-content",domProps:{innerHTML:t._s(e.content)}})])}))])])},staticRenderFns:[]};var M=a("VU/8")(A,L,!1,function(t){a("paDn"),a("k5xk")},"data-v-67fcfa56",null).exports;n.default.use(d.a);var P=new d.a({routes:[{path:"/",redirect:"/shouye"},{path:"/shouye",name:"shouye",component:w},{path:"/rejiste",name:"rejiste",component:y},{path:"/writenote",name:"writenote",component:S},{path:"/detail",name:"detail",component:R},{path:"/schlist",name:"schlist",component:M}]}),z=v.a.create({baseURL:"/"});n.default.prototype.$axios=z;a("v2ns");var Q=a("7QTg"),q=a.n(Q);n.default.use(u.a),n.default.config.productionTip=!1,n.default.use(q.a),new n.default({el:"#app",router:P,components:{App:c},template:"<App/>"})},Nz7l:function(t,e){},UZvQ:function(t,e){},ZnH4:function(t,e){},"clU+":function(t,e){},hPHr:function(t,e){},j3wC:function(t,e){},jQ6X:function(t,e){},k5xk:function(t,e){},paDn:function(t,e){},tvR6:function(t,e){},v2ns:function(t,e){},vsYT:function(t,e){},xril:function(t,e){},zxBy:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d178d968bfdfa74f52fb.js.map